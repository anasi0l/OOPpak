package main;

import model.Tariff; // –Ü–º–ø–æ—Ä—Ç –∫–ª–∞—Å—É Tariff –∑ –ø–∞–∫–µ—Ç—É model, —è–∫–∏–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î —Ç–∞—Ä–∏—Ñ–Ω–∏–π –ø–ª–∞–Ω
import service.MobileCompany; // –Ü–º–ø–æ—Ä—Ç –∫–ª–∞—Å—É MobileCompany, —â–æ –∫–µ—Ä—É—î —Ç–∞—Ä–∏—Ñ–∞–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
import factory.TariffFactory; // –Ü–º–ø–æ—Ä—Ç —Ñ–∞–±—Ä–∏–∫–∏ TariffFactory, —â–æ —Å—Ç–≤–æ—Ä—é—î –µ–∫–∑–µ–º–ø–ª—è—Ä–∏ —Ç–∞—Ä–∏—Ñ—ñ–≤

// –Ü–º–ø–æ—Ä—Ç –≤–ª–∞—Å–Ω–∏—Ö –≤–∏–Ω—è—Ç–∫—ñ–≤ (Exception), —â–æ –æ–±—Ä–æ–±–ª—è—é—Ç—å —Ä—ñ–∑–Ω—ñ —Å–∏—Ç—É–∞—Ü—ñ—ó –≤ —Ä–æ–±–æ—Ç—ñ –∑ —Ç–∞—Ä–∏—Ñ–∞–º–∏
import exception.TariffNotFoundException; // –í–∏–Ω—è—Ç–æ–∫ –¥–ª—è –≤–∏–ø–∞–¥–∫—É, –∫–æ–ª–∏ —Ç–∞—Ä–∏—Ñ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
import exception.DuplicateTariffException; // –í–∏–Ω—è—Ç–æ–∫ –ø—Ä–∏ —Å–ø—Ä–æ–±—ñ –¥–æ–¥–∞—Ç–∏ –¥—É–±–ª—å–æ–≤–∞–Ω–∏–π —Ç–∞—Ä–∏—Ñ
import exception.EmptyTariffListException; // –í–∏–Ω—è—Ç–æ–∫, —è–∫—â–æ —Å–ø–∏—Å–æ–∫ —Ç–∞—Ä–∏—Ñ—ñ–≤ –ø–æ—Ä–æ–∂–Ω—ñ–π
import exception.InvalidTariffException; // –í–∏–Ω—è—Ç–æ–∫ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ç–∞—Ä–∏—Ñ—É

import java.util.Scanner; // –Ü–º–ø–æ—Ä—Ç –∫–ª–∞—Å—É Scanner –¥–ª—è –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è –≤–≤–µ–¥–µ–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º –¥–∞–Ω–∏—Ö
import java.io.IOException; // –Ü–º–ø–æ—Ä—Ç –∫–ª–∞—Å—É IOException –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –ø–æ–º–∏–ª–æ–∫ –≤–≤–æ–¥—É/–≤–∏–≤–æ–¥—É

// –Ü–º–ø–æ—Ä—Ç –ª–æ–≥–µ—Ä–∞ –¥–ª—è –∑–∞–ø–∏—Å—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –ø—Ä–æ —Ä–æ–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–∏
import java.util.logging.Logger; // –û—Å–Ω–æ–≤–Ω–∏–π –∫–ª–∞—Å –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
import java.util.logging.ConsoleHandler; // –û–±—Ä–æ–±–Ω–∏–∫ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –≤–∏–≤–æ–¥—É –≤ –∫–æ–Ω—Å–æ–ª—å
import java.util.logging.Level; // –†—ñ–≤–Ω—ñ –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å –ª–æ–≥—É–≤–∞–Ω–Ω—è

import java.util.InputMismatchException; // –í–∏–Ω—è—Ç–æ–∫ –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤–≤–æ–¥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º
import java.util.List; // –Ü–º–ø–æ—Ä—Ç –∫–æ–ª–µ–∫—Ü—ñ—ó List –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑—ñ —Å–ø–∏—Å–∫–∞–º–∏ —Ç–∞—Ä–∏—Ñ—ñ–≤
import java.io.File; // –Ü–º–ø–æ—Ä—Ç –∫–ª–∞—Å—É File –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∞—Ä–∏—Ñ—ñ–≤)

public class Menu {
    private final MobileCompany company; // –û–±'—î–∫—Ç –∫–æ–º–ø–∞–Ω—ñ—ó, —â–æ –º—ñ—Å—Ç–∏—Ç—å –≤—Å—ñ —Ç–∞—Ä–∏—Ñ–∏
    private Scanner scanner = new Scanner(System.in); // –°–∫–∞–Ω–µ—Ä –¥–ª—è –∑—á–∏—Ç—É–≤–∞–Ω–Ω—è –≤–≤–µ–¥–µ–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º –¥–∞–Ω–∏—Ö
    private static final Logger logger = Logger.getLogger(Menu.class.getName()); // –õ–æ–≥–µ—Ä –¥–ª—è –≤–µ–¥–µ–Ω–Ω—è –∂—É—Ä–Ω–∞–ª—É –ø–æ–¥—ñ–π

    static {
        ConsoleHandler handler = new ConsoleHandler(); // –û–±—Ä–æ–±–Ω–∏–∫ –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –≤–∏–≤–æ–¥—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É –∫–æ–Ω—Å–æ–ª—å
        handler.setLevel(Level.ALL); // –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä—ñ–≤–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è –Ω–∞ –≤—Å—ñ –ø–æ–¥—ñ—ó
        logger.addHandler(handler); // –î–æ–¥–∞–≤–∞–Ω–Ω—è –æ–±—Ä–æ–±–Ω–∏–∫–∞ –¥–æ –ª–æ–≥–µ—Ä–∞
        logger.setLevel(Level.ALL); // –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ä—ñ–≤–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è –¥–ª—è –ª–æ–≥–µ—Ä–∞
    }

    public Menu(MobileCompany company) {
        this.company = company; // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –æ–±'—î–∫—Ç–∞ –∫–æ–º–ø–∞–Ω—ñ—ó
    }

    public void showMenu() { // –ú–µ—Ç–æ–¥ –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≥–æ–ª–æ–≤–Ω–æ–≥–æ –º–µ–Ω—é
        while (true) {
            // –í–∏–≤—ñ–¥ –º–µ–Ω—é –∑ –∫–æ–ª—å–æ—Ä–æ–≤–∏–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è–º
            System.out.println("\u001B[34m\uD83C\uDF1F –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é\u001B[0m");
            System.out.println("\u001B[32m1. ‚ûï –î–æ–¥–∞—Ç–∏ —Ç–∞—Ä–∏—Ñ\u001B[0m");
            System.out.println("\u001B[33m2. üìÑ –í–∏–≤–µ—Å—Ç–∏ –≤—Å—ñ —Ç–∞—Ä–∏—Ñ–∏\u001B[0m");
            System.out.println("\u001B[36m3. üîç –®—É–∫–∞—Ç–∏ —Ç–∞—Ä–∏—Ñ\u001B[0m");
            System.out.println("\u001B[31m4. ‚ùå –í–∏–¥–∞–ª–∏—Ç–∏ —Ç–∞—Ä–∏—Ñ\u001B[0m");
            System.out.println("\u001B[35m5. üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ —Ç–∞—Ä–∏—Ñ–∏ —É —Ñ–∞–π–ª\u001B[0m");
            System.out.println("\u001B[37m6. üìÇ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ç–∞—Ä–∏—Ñ–∏ –∑ —Ñ–∞–π–ª—É\u001B[0m");
            System.out.println("\u001B[91m0. üö™ –í–∏—Ö—ñ–¥\u001B[0m");
            System.out.print("\u001B[34m–í–∞—à –≤–∏–±—ñ—Ä: \u001B[0m");

            int choice;
            try {
                choice = scanner.nextInt(); // –ó—á–∏—Ç—É–≤–∞–Ω–Ω—è –≤–∏–±–æ—Ä—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
                scanner.nextLine(); // –û—á–∏—â–µ–Ω–Ω—è –±—É—Ñ–µ—Ä–∞ –ø—ñ—Å–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è —á–∏—Å–ª–∞
            } catch (InputMismatchException e) {
                // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏, —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤–≤—ñ–≤ –Ω–µ —Ü—ñ–ª–µ —á–∏—Å–ª–æ
                System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞: –≤–≤–µ–¥—ñ—Ç—å —Ü—ñ–ª–µ —á–∏—Å–ª–æ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 1)!\u001B[0m");
                scanner.nextLine(); // –û—á–∏—â–µ–Ω–Ω—è –±—É—Ñ–µ—Ä–∞ –ø—ñ—Å–ª—è –ø–æ–º–∏–ª–∫–∏
                continue; // –ü—Ä–æ–ø—É—Å–∫ —ñ—Ç–µ—Ä–∞—Ü—ñ—ó —Ü–∏–∫–ª—É
            }

            switch (choice) {
                case 1 -> addTariff(); // –í–∏–∫–ª–∏–∫ –º–µ—Ç–æ–¥—É –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ç–∞—Ä–∏—Ñ—É
                case 2 -> {
                    try {
                        company.printTariffs(); // –í–∏–∫–ª–∏–∫ –º–µ—Ç–æ–¥—É –¥–ª—è –≤–∏–≤–µ–¥–µ–Ω–Ω—è –≤—Å—ñ—Ö —Ç–∞—Ä–∏—Ñ—ñ–≤
                    } catch (EmptyTariffListException e) {
                        // –û–±—Ä–æ–±–∫–∞ –≤–∏–Ω—è—Ç–∫—É, —è–∫—â–æ —Å–ø–∏—Å–æ–∫ —Ç–∞—Ä–∏—Ñ—ñ–≤ –ø–æ—Ä–æ–∂–Ω—ñ–π
                        System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞: " + e.getMessage() + "\u001B[0m");
                    }
                }
                case 3 -> searchTariff(); // –í–∏–∫–ª–∏–∫ –º–µ—Ç–æ–¥—É –ø–æ—à—É–∫—É —Ç–∞—Ä–∏—Ñ—É
                case 4 -> deleteTariff(); // –í–∏–∫–ª–∏–∫ –º–µ—Ç–æ–¥—É –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–∞—Ä–∏—Ñ—É
                case 5 -> saveTariffs(); // –í–∏–∫–ª–∏–∫ –º–µ—Ç–æ–¥—É –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∞—Ä–∏—Ñ—ñ–≤ —É —Ñ–∞–π–ª
                case 6 -> loadTariffs(); // –í–∏–∫–ª–∏–∫ –º–µ—Ç–æ–¥—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–∞—Ä–∏—Ñ—ñ–≤ –∑ —Ñ–∞–π–ª—É
                case 0 -> {
                    // –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–∏
                    System.out.println("\u001B[92müëã –î–æ –ø–æ–±–∞—á–µ–Ω–Ω—è!\u001B[0m");
                    System.exit(0);
                }
                default ->
                        System.out.println("\u001B[91m‚ùó –ù–µ–≤—ñ—Ä–Ω–∏–π –≤–∏–±—ñ—Ä. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.\u001B[0m"); // –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π –≤–∏–±—ñ—Ä
            }
        }
    }

    private void addTariff() {
        // –ó–∞–ø–∏—Ç—É—î–º–æ —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–∞–∑–≤—É —Ç–∞—Ä–∏—Ñ—É
        System.out.print("\u001B[36m–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É —Ç–∞—Ä–∏—Ñ—É: \u001B[0m");
        String name = scanner.nextLine();

        // –ó–∞–ø–∏—Ç—É—î–º–æ —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —Ç–∏–ø —Ç–∞—Ä–∏—Ñ—É (prepaid, postpaid, student, business)
        System.out.print("\u001B[36m–í–≤–µ–¥—ñ—Ç—å —Ç–∏–ø —Ç–∞—Ä–∏—Ñ—É (prepaid/postpaid/student/business): \u001B[0m");
        String type = scanner.nextLine();

        // –ó–∞–ø–∏—Ç—É—î–º–æ —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —â–æ–º—ñ—Å—è—á–Ω—É –ø–ª–∞—Ç—É —Ç–∞ –æ–±—Ä–æ–±–ª—è—î–º–æ –º–æ–∂–ª–∏–≤—ñ –ø–æ–º–∏–ª–∫–∏ –≤–≤–µ–¥–µ–Ω–Ω—è
        System.out.print("\u001B[36m–í–≤–µ–¥—ñ—Ç—å —â–æ–º—ñ—Å—è—á–Ω—É –ø–ª–∞—Ç—É: \u001B[0m");
        double fee;
        try {
            fee = scanner.nextDouble();

            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –≤—ñ–¥‚Äô—î–º–Ω—É –ø–ª–∞—Ç—É
            if (fee < 0) {
                System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞: —â–æ–º—ñ—Å—è—á–Ω–∞ –ø–ª–∞—Ç–∞ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –≤—ñ–¥‚Äô—î–º–Ω–æ—é!\u001B[0m");
                scanner.nextLine(); // –û—á–∏—â—É—î–º–æ –±—É—Ñ–µ—Ä –ø—ñ—Å–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è
                return;
            }
        } catch (InputMismatchException e) {
            // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏, —è–∫—â–æ –≤–≤–µ–¥–µ–Ω–æ –Ω–µ —á–∏—Å–ª–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è
            System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞: –≤–≤–µ–¥—ñ—Ç—å —á–∏—Å–ª–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –ø–ª–∞—Ç–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 10.50)!\u001B[0m");
            scanner.nextLine(); // –û—á–∏—â—É—î–º–æ –±—É—Ñ–µ—Ä –ø—ñ—Å–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è
            return;
        }

        // –ó–∞–ø–∏—Ç—É—î–º–æ —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–ª—ñ—î–Ω—Ç—ñ–≤ —Ç–∞ –æ–±—Ä–æ–±–ª—è—î–º–æ –º–æ–∂–ª–∏–≤—ñ –ø–æ–º–∏–ª–∫–∏ –≤–≤–µ–¥–µ–Ω–Ω—è
        System.out.print("\u001B[36m–í–≤–µ–¥—ñ—Ç—å –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–ª—ñ—î–Ω—Ç—ñ–≤: \u001B[0m");
        int clients;
        try {
            clients = scanner.nextInt();

            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –≤—ñ–¥‚Äô—î–º–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–ª—ñ—î–Ω—Ç—ñ–≤
            if (clients < 0) {
                System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞: –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–ª—ñ—î–Ω—Ç—ñ–≤ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –≤—ñ–¥‚Äô—î–º–Ω–æ—é!\u001B[0m");
                scanner.nextLine(); // –û—á–∏—â—É—î–º–æ –±—É—Ñ–µ—Ä –ø—ñ—Å–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è
                return;
            }
        } catch (InputMismatchException e) {
            // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏, —è–∫—â–æ –≤–≤–µ–¥–µ–Ω–æ –Ω–µ —Ü—ñ–ª–µ —á–∏—Å–ª–æ
            System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞: –≤–≤–µ–¥—ñ—Ç—å —Ü—ñ–ª–µ —á–∏—Å–ª–æ –¥–ª—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –∫–ª—ñ—î–Ω—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 100)!\u001B[0m");
            scanner.nextLine(); // –û—á–∏—â—É—î–º–æ –±—É—Ñ–µ—Ä –ø—ñ—Å–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è
            return;
        }
        scanner.nextLine(); // –û—á–∏—â—É—î–º–æ –±—É—Ñ–µ—Ä –ø—ñ—Å–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è —á–∏—Å–ª–∞

        try {
            // –°—Ç–≤–æ—Ä—é—î–º–æ —Ç–∞—Ä–∏—Ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —Ñ–∞–±—Ä–∏—á–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É —Ç–∞ –¥–æ–¥–∞—î–º–æ –π–æ–≥–æ –¥–æ –∫–æ–º–ø–∞–Ω—ñ—ó
            Tariff tariff = TariffFactory.createTariff(type, name, fee, clients);
            company.addTariff(tariff);
            logger.info("–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ–¥–∞–≤ —Ç–∞—Ä–∏—Ñ: " + name);
            System.out.println("\u001B[92m‚úÖ –¢–∞—Ä–∏—Ñ —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ!\u001B[0m");
        } catch (DuplicateTariffException e) {
            // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏, —è–∫—â–æ —Ç–∞—Ä–∏—Ñ –≤–∂–µ —ñ—Å–Ω—É—î
            logger.warning("–°–ø—Ä–æ–±–∞ –¥–æ–¥–∞—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç —Ç–∞—Ä–∏—Ñ—É: " + name);
            System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞: " + e.getMessage() + "\u001B[0m");
        } catch (InvalidTariffException e) {
            // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏, —è–∫—â–æ —Ç–∏–ø —Ç–∞—Ä–∏—Ñ—É –Ω–µ–≤—ñ—Ä–Ω–∏–π
            logger.warning("–ù–µ–≤—ñ—Ä–Ω–∏–π —Ç–∏–ø —Ç–∞—Ä–∏—Ñ—É: " + type);
            System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞: " + e.getMessage() + "\u001B[0m");
        }
    }

    private void searchTariff() {
        try {
            // –ó–∞–ø–∏—Ç—É—î–º–æ –º—ñ–Ω—ñ–º–∞–ª—å–Ω—É –∞–±–æ–Ω–ø–ª–∞—Ç—É
            System.out.print("\u001B[36m–í–≤–µ–¥—ñ—Ç—å –º—ñ–Ω—ñ–º–∞–ª—å–Ω—É –∞–±–æ–Ω–ø–ª–∞—Ç—É: \u001B[0m");
            double min = scanner.nextDouble();

            // –ó–∞–ø–∏—Ç—É—î–º–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –∞–±–æ–Ω–ø–ª–∞—Ç—É
            System.out.print("\u001B[36m–í–≤–µ–¥—ñ—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –∞–±–æ–Ω–ø–ª–∞—Ç—É: \u001B[0m");
            double max = scanner.nextDouble();
            scanner.nextLine(); // –û—á–∏—â—É—î–º–æ –±—É—Ñ–µ—Ä –ø—ñ—Å–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è —á–∏—Å–µ–ª

            // –®—É–∫–∞—î–º–æ —Ç–∞—Ä–∏—Ñ–∏ –≤ –∑–∞–¥–∞–Ω–æ–º—É –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ
            List<Tariff> foundTariffs = company.findTariffsInRange(min, max);

            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –∑–Ω–∞–π–¥–µ–Ω—ñ —Ç–∞—Ä–∏—Ñ–∏, —ñ –≤–∏–≤–æ–¥–∏–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            if (foundTariffs.isEmpty()) {
                System.out.println("\u001B[33m‚ÑπÔ∏è –¢–∞—Ä–∏—Ñ—ñ–≤ —É –∑–∞–¥–∞–Ω–æ–º—É –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.\u001B[0m");
            } else {
                foundTariffs.forEach(t -> System.out.println("\u001B[33m" + t + "\u001B[0m"));
            }
        } catch (InputMismatchException e) {
            // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏, —è–∫—â–æ –≤–≤–µ–¥–µ–Ω–æ –Ω–µ —á–∏—Å–ª–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è –¥–ª—è –∞–±–æ–Ω–ø–ª–∞—Ç–∏
            System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞: –≤–≤–µ–¥—ñ—Ç—å —á–∏—Å–ª–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 100.50)!\u001B[0m");
            scanner.nextLine(); // –û—á–∏—â—É—î–º–æ –±—É—Ñ–µ—Ä –ø—ñ—Å–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è
        } catch (EmptyTariffListException e) {
            // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏, —è–∫—â–æ —Ç–∞—Ä–∏—Ñ–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω—ñ
            System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞: " + e.getMessage() + "\u001B[0m");
        }
    }

    private void deleteTariff() {
        // –ó–∞–ø–∏—Ç—É—î–º–æ —É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–∞–∑–≤—É —Ç–∞—Ä–∏—Ñ—É –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è
        System.out.print("\u001B[36m–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É —Ç–∞—Ä–∏—Ñ—É –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è: \u001B[0m");
        String name = scanner.nextLine();

        try {
            // –í–∏–∫–ª–∏–∫–∞—î–º–æ –º–µ—Ç–æ–¥ –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–∞—Ä–∏—Ñ—É –∑–∞ –Ω–∞–∑–≤–æ—é
            company.removeTariff(name);
            // –ü–æ–∫–∞–∑—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—à–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è
            System.out.println("\u001B[92m‚úÖ –¢–∞—Ä–∏—Ñ —É—Å–ø—ñ—à–Ω–æ –≤–∏–¥–∞–ª–µ–Ω–æ!\u001B[0m");
        } catch (TariffNotFoundException e) {
            // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏, —è–∫—â–æ —Ç–∞—Ä–∏—Ñ –∑ —Ç–∞–∫–æ—é –Ω–∞–∑–≤–æ—é –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
            System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞: " + e.getMessage() + "\u001B[0m");
        }
    }

    private void saveTariffs() {
        try {
            // –í–∏–∫–ª–∏–∫–∞—î–º–æ –º–µ—Ç–æ–¥ –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–∞—Ä–∏—Ñ—ñ–≤ —É —Ñ–∞–π–ª
            company.saveTariffsToFile("tariffs.dat");
            // –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—à–Ω–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è
            System.out.println("üíæ –¢–∞—Ä–∏—Ñ–∏ —É—Å–ø—ñ—à–Ω–æ –∑–±–µ—Ä–µ–∂–µ–Ω–æ!");
        } catch (IOException e) {
            // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏, —è–∫—â–æ –≤–∏–Ω–∏–∫–∞—î –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ —Ñ–∞–π–ª—É
            System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ: " + e.getMessage() + "\u001B[0m");
        }
    }

    private void loadTariffs() {
        // –°—Ç–≤–æ—Ä—é—î–º–æ –æ–±'—î–∫—Ç —Ñ–∞–π–ª—É, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω—ñ —Ç–∞—Ä–∏—Ñ–∏
        File file = new File("tariffs.dat");

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —ñ—Å–Ω—É—î —Ñ–∞–π–ª —ñ —á–∏ –≤—ñ–Ω –Ω–µ –ø–æ—Ä–æ–∂–Ω—ñ–π
        if (!file.exists() || file.length() == 0) {
            // –Ø–∫—â–æ —Ñ–∞–π–ª –≤—ñ–¥—Å—É—Ç–Ω—ñ–π –∞–±–æ –ø–æ—Ä–æ–∂–Ω—ñ–π, –≤–∏–≤–æ–¥–∏–º–æ –ø–æ–º–∏–ª–∫—É
            System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞: —Ñ–∞–π–ª –≤—ñ–¥—Å—É—Ç–Ω—ñ–π –∞–±–æ –ø–æ—Ä–æ–∂–Ω—ñ–π!\u001B[0m");
            return;
        }

        try {
            // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ —Ç–∞—Ä–∏—Ñ–∏ –∑ —Ñ–∞–π–ª—É
            company.loadTariffsFromFile("tariffs.dat");
            // –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—à–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
            System.out.println("\u001B[92müìÇ –¢–∞—Ä–∏—Ñ–∏ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ!\u001B[0m");
        } catch (IOException e) {
            // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏, —è–∫—â–æ –≤–∏–Ω–∏–∫–∞—î –ø—Ä–æ–±–ª–µ–º–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Ñ–∞–π–ª—É
            System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Ñ–∞–π–ª—É: " + e.getMessage() + "\u001B[0m");
        } catch (ClassNotFoundException e) {
            // –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–∫–∏, —è–∫—â–æ –∫–ª–∞—Å —Ç–∞—Ä–∏—Ñ—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
            System.out.println("\u001B[91m‚ùå –ü–æ–º–∏–ª–∫–∞: –∫–ª–∞—Å —Ç–∞—Ä–∏—Ñ—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. " + e.getMessage() + "\u001B[0m");
        }
    }
}